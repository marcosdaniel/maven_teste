<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="relatorio2" language="groovy" pageWidth="595" pageHeight="842" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="dc00af5a-ff84-4cc5-bc21-829fd35e7a5c">
	<property name="ireport.zoom" value="1.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<parameter name="CODIGO" class="java.math.BigDecimal"/>
	<queryString>
		<![CDATA[SELECT
     ligacao."id" AS ligacao_id,
     ligacao."idparceiro" AS ligacao_idparceiro,
     ligacao."idtipo" AS ligacao_idtipo,
     ligacao."data" AS ligacao_data,
     ligacao."destino" AS ligacao_destino,
     ligacao."duracaoreferencia" AS ligacao_duracaoreferencia,
     ligacao."duracao" AS ligacao_duracao,
     ligacao."minutos" AS ligacao_minutos,
     ligacao."valorcsv" AS ligacao_valorcsv,
     ligacao."valorpago" AS ligacao_valorpago,
     ligacao."valorcobrado" AS ligacao_valorcobrado,
     ligacao."valorterceiros" AS ligacao_valorterceiros,
     ligacao."cidadedestino" AS ligacao_cidadedestino,
     ligacao."datacadastro" AS ligacao_datacadastro
FROM
     "public"."ligacao" ligacao
	WHERE ligacao."idtipo" = $P{CODIGO}]]>
	</queryString>
	<field name="ligacao_id" class="java.math.BigDecimal"/>
	<field name="ligacao_idparceiro" class="java.math.BigDecimal"/>
	<field name="ligacao_idtipo" class="java.math.BigDecimal"/>
	<field name="ligacao_data" class="java.sql.Timestamp"/>
	<field name="ligacao_destino" class="java.lang.String"/>
	<field name="ligacao_duracaoreferencia" class="java.lang.String"/>
	<field name="ligacao_duracao" class="java.lang.String"/>
	<field name="ligacao_minutos" class="java.math.BigDecimal"/>
	<field name="ligacao_valorcsv" class="java.math.BigDecimal"/>
	<field name="ligacao_valorpago" class="java.math.BigDecimal"/>
	<field name="ligacao_valorcobrado" class="java.math.BigDecimal"/>
	<field name="ligacao_valorterceiros" class="java.math.BigDecimal"/>
	<field name="ligacao_cidadedestino" class="java.lang.String"/>
	<field name="ligacao_datacadastro" class="java.sql.Timestamp"/>
	<variable name="SOMA_VALOR_TOTAL" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[$F{ligacao_valorcobrado}]]></variableExpression>
		<initialValueExpression><![CDATA[BigDecimal.ZERO]]></initialValueExpression>
	</variable>
	<background>
		<band splitType="Stretch"/>
	</background>
	<columnHeader>
		<band height="20" splitType="Stretch">
			<staticText>
				<reportElement uuid="c4d0b659-d025-48d6-b4f6-a41591a3787f" x="11" y="0" width="64" height="20"/>
				<textElement>
					<font size="10" isBold="true"/>
				</textElement>
				<text><![CDATA[Código]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="08107335-10f7-4893-bb69-86e993ec5378" x="237" y="0" width="79" height="20"/>
				<textElement>
					<font size="10" isBold="true"/>
				</textElement>
				<text><![CDATA[Data]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="edfa2737-6a8f-4a7c-a550-971aef915756" x="316" y="0" width="79" height="20"/>
				<textElement>
					<font size="10" isBold="true"/>
				</textElement>
				<text><![CDATA[Destino]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="1924dd2b-40ff-46e7-9e2b-858c1d5fe117" x="395" y="0" width="79" height="20"/>
				<textElement>
					<font size="10" isBold="true"/>
				</textElement>
				<text><![CDATA[Duração]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="02e21a90-d27c-4d1a-bdcf-065c10ed0ca1" x="474" y="0" width="79" height="20"/>
				<textElement>
					<font size="10" isBold="true"/>
				</textElement>
				<text><![CDATA[Valor Pago]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="248eda75-9325-4fe1-9e1f-395643a7d96c" x="87" y="0" width="131" height="20"/>
				<textElement>
					<font size="10" isBold="true"/>
				</textElement>
				<text><![CDATA[Cidade]]></text>
			</staticText>
		</band>
	</columnHeader>
	<detail>
		<band height="20" splitType="Stretch">
			<rectangle>
				<reportElement uuid="e9b69842-5085-42b5-b73d-c90226c955b7" x="0" y="0" width="555" height="20" backcolor="#E9E7E7">
					<printWhenExpression><![CDATA[$V{REPORT_COUNT} % 2 == 0]]></printWhenExpression>
				</reportElement>
				<graphicElement>
					<pen lineWidth="0.0"/>
				</graphicElement>
			</rectangle>
			<textField>
				<reportElement uuid="c2509d37-cd9f-4509-83a0-d1097b23b51f" x="0" y="0" width="53" height="20"/>
				<textElement textAlignment="Center"/>
				<textFieldExpression><![CDATA[$F{ligacao_id}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement uuid="e5f89873-4712-4bdb-8180-1d081de14964" x="237" y="0" width="67" height="20"/>
				<textElement/>
				<textFieldExpression><![CDATA[$F{ligacao_data}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement uuid="6999eeab-61f7-4a65-b551-309945dd999c" x="316" y="0" width="79" height="20"/>
				<textElement/>
				<textFieldExpression><![CDATA[$F{ligacao_destino}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement uuid="3a56fd34-d97a-4201-82ed-cce3ab41b2e8" x="395" y="0" width="79" height="20"/>
				<textElement/>
				<textFieldExpression><![CDATA[$F{ligacao_duracao}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement uuid="0f5668ea-706c-4402-b068-0b5b6c1297f6" x="487" y="0" width="66" height="20"/>
				<textElement/>
				<textFieldExpression><![CDATA[$F{ligacao_valorpago}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement uuid="892f2045-be31-48c2-9dc1-ad52bf22a353" x="87" y="0" width="117" height="20"/>
				<textElement/>
				<textFieldExpression><![CDATA[$F{ligacao_cidadedestino}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<summary>
		<band height="50">
			<textField>
				<reportElement uuid="1bb5265e-5c2e-4834-a907-e8e6a54d278b" x="0" y="15" width="248" height="20"/>
				<textElement>
					<font isItalic="true"/>
				</textElement>
				<textFieldExpression><![CDATA["Quantidade de ligações: " + $V{REPORT_COUNT}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement uuid="714f8dd6-6e38-4ba5-992f-09eac12f757c" x="453" y="15" width="100" height="20"/>
				<textElement/>
				<textFieldExpression><![CDATA["Valor Total: "+$V{SOMA_VALOR_TOTAL}]]></textFieldExpression>
			</textField>
		</band>
	</summary>
</jasperReport>
